# File name: BamEditor.py
<ToolBarLabel@Label>
    bcolor: 103/255, 97/255, 97/255, 1
    canvas.before:
        Color:
            rgba: 73/255, 67/255, 67/255, 1
        Rectangle:
            pos: self.x , self.y
            size: self.width, self.height
        Color:
            rgba: self.bcolor
        Rectangle:
            pos: self.x + 3, self.y +3
            size: self.width-6, self.height-6












<MainLabel>:
    PaintingAreaLabel:
        pos: 38, root.top - 38 - self.height
        width: root.width - root.ids.toolbox.width - root.ids.sequenceframeinfolabel.width
        height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfotoolinfolabel.height

        ImageScatter:
            id: imagescatter
            size: self.parent.size
            pos: self.parent.pos
            scale_max: 8
            scale_min: 1

            ImageLabel:
                size: 32, 32
                pos: (self.parent.width - self.width)/2, (self.parent.height - self.height)/2
                canvas:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos

    MainToolbarLabel:
        id: maintoolbar
        width: root.width
        pos: root.x, root.top - self.height

        NewFileButton:
            pos: root.x +3 , root.top - self.height -3
        OpenFileButton:
            pos: root.x + self.width + 3, root.top - self.height -3
        SaveFileButton:
            pos: root.x + self.width * 2 + 3, root.top - self.height - 3
        UndoButton:
            pos: root.x + self.width * 3 + 3, root.top - self.height - 3
        RedoButton:
            pos: root.x + self.width * 4 + 3, root.top - self.height - 3

    ToolBoxLabel:
        id: toolbox
        pos: root.x, root.top - self.height - 35
        height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfotoolinfolabel.height + 6
        MoveImageButton:
            pos: self.parent.x +3 , self.parent.top - self.height -3
            state: 'down'
        PencilButton:
            pos: self.parent.x +3 , self.parent.top - 2 * self.height -3
        EraserButton:
            pos: self.parent.x +3 , self.parent.top - 3 * self.height -3
        BrushButton:
            pos: self.parent.x +3 , self.parent.top - 4 * self.height -3
        ColorPickerButton:
            pos: self.parent.x +3 , self.parent.top - 5 * self.height -3
        FloodFillButton:
            pos: self.parent.x +3 , self.parent.top - 6 * self.height -3
        ImageCenterButton:
            pos: self.parent.x +3 , self.parent.top - 7 * self.height -3
        ZoomInButton:
            pos: self.parent.x +3 , self.parent.top - 8 * self.height -3
        ZoomOutButton:
            pos: self.parent.x +3 , self.parent.top - 9 * self.height -3
        ScatterCenterButton:
            pos: self.parent.x +3 , self.parent.top - 10 * self.height -3


    PaletteInfoToolInfoLabel:
        id: paletteinfotoolinfolabel
        width: root.width
        pos: 0, 0

        PaletteLabel:
            id: palettelabel
            pos: (self.parent.x + 160, self.parent.y + 20)

            ColorButtonsGridLayout:
                pos: self.parent.x , self.parent.y
                size: self.parent.width, self.parent.height

        CurrentColorLabel:
            id: right_mouse_color
            pos: self.parent.x + 60 , self.parent.y + 40
            color: 1,1,1,1

        CurrentColorLabel:
            id: left_mouse_color
            pos: self.parent.x + 20 , self.parent.y + 80
            color: 0,0,0,1

        ToolInfoLabel:
            id: toolinfolabel
            pos: (self.parent.x + 880, self.parent.y + 40)


    SequenceFrameInfoLabel:
        id: sequenceframeinfolabel
        height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfotoolinfolabel.height + 6
        pos: root.width - self.width, root.ids.paletteinfotoolinfolabel.height - 3

        SequenceFrameTabbedPanel:
            size: self.parent.size
            pos: self.parent.pos

            do_default_tab: False

            TabbedPanelItem:
                text: 'Sequences'

                BoxLayout:
                    size_hint_y: 1
                    size_hint_x: 1
                    orientation: 'vertical'

                    BoxLayout:
                        pos: self.parent.pos
                        canvas:
                            Color:
                                rgba: 103/255, 97/255, 97/255, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        SequenceLabel:
                            size_hint_x: None
                            size_hint_y: 1

                            ScrollView:
                                size: self.parent.size
                                pos: self.parent.pos

                                GridLayout:
                                    id: framelayout
                                    cols: 1
                                    size_hint_y: None
                                    height: self.minimum_height

                        SequenceOrderChangeLabel:
                            BoxLayout:
                                orientation: 'vertical'

                                size: self.parent.size
                                pos: self.parent.pos

                                SequenceUpButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceDownButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceAddButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceDeleteButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                Label:

                    SequenceFrameButtonsLabel:
                        id: sequenceframebuttonslabel
                        height: 35
                        size_hint: (None, None)

                        GridLayout:
                            padding:(2, 2)
                            pos: self.parent.pos
                            size: self.parent.size
                            cols: 2

                            BoxLayout:
                                size: self.parent.size
                                pos: self.parent.pos
                                orientation: 'horizontal'

                                SequenceAnimationPlayButton:
                                    size_hint: (None, None)

                                SequenceAnimationStopButton:
                                    size_hint: (None, None)
                                    state: 'down'

                            StackLayout:
                                pos: self.parent.pos
                                orientation: 'rl-bt'
                                PreviewAnimationButton:
                                    size_hint: (None, None)

                    BoxLayout:
                        pos: self.parent.pos
                        canvas:
                            Color:
                                rgba: 103/255, 97/255, 97/255, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        FrameLabel:
                            size_hint_x: None
                            size_hint_y: 1

                            ScrollView:
                                size: self.parent.size
                                pos: self.parent.pos

                                GridLayout:
                                    id: framelayout
                                    cols: 1
                                    size_hint_y: None
                                    height: self.minimum_height

                        FrameOrderChangeLabel:
                            BoxLayout:
                                orientation: 'vertical'

                                size: self.parent.size
                                pos: self.parent.pos

                                FrameUpButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                FrameDownButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceFrameAddButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceFrameDeleteButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                Label:


            TabbedPanelItem:
                text: 'All frames'

                BoxLayout:

                    canvas:
                        Color:
                            rgba: 103/255, 97/255, 97/255, 1
                        Rectangle:
                            size: self.size
                            pos: self.pos

                    AllFramesLabel:
                        size_hint_y: 1


                        ScrollView:
                            size: self.parent.size
                            pos: self.parent.pos

                            GridLayout:
                                id: framelayout
                                cols: 1
                                size_hint_y: None
                                height: self.minimum_height
                    ToolBoxLabel:
                        width: 32
                        size_hint_x: None
                        size_hint_y: 1
                        pos: self.parent.pos

                        BoxLayout:
                            orientation: 'vertical'

                            size: self.parent.size
                            pos: self.parent.pos

                            FrameAddButton:
                                pos: self.parent.pos
                                size_hint_y: None

                            FrameDeleteButton:
                                pos: self.parent.pos
                                size_hint_y: None

                            Label: