# File name: BamEditor.py
<ToolBarLabel>
    bcolor: 103/255, 97/255, 97/255, 1
    canvas.before:
        Color:
            rgba: 73/255, 67/255, 67/255, 1
        Rectangle:
            pos: self.x , self.y
            size: self.width, self.height
        Color:
            rgba: self.bcolor
        Rectangle:
            pos: self.x + 3, self.y +3
            size: self.width-6, self.height-6



<MainToolbarLabel@ToolBarLabel>:
    height: 38


<NewFileButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\new-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<OpenFileButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\open-file-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<SaveFileButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\save-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<UndoButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\undo-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<RedoButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\redo-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ToolBoxLabel@ToolBarLabel>:
    width: 38

<PencilButton>:
    group: 'toolbox_tool'

    size: 32, 32
    Image:
        source: r'.\static\icons\Pencil-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<EraserButton>:
    group: 'toolbox_tool'


    size: 32, 32
    Image:
        source: r'.\static\icons\Eraser-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<BrushButton>:
    group: 'toolbox_tool'


    size: 32, 32
    Image:
        source: r'E:\kivy_projects\first_kivy_project\static\icons\Brush-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ColorPickerButton>:
    group: 'toolbox_tool'


    size: 32, 32
    Image:
        source: r'.\static\icons\Dropper-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<FloodFillButton>:
    group: 'toolbox_tool'

    size: 32, 32
    Image:
        source: r'.\static\icons\Fill-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ImageCenterButton>:
    group: 'toolbox_tool'

    size: 32, 32
    Image:
        source: r'.\static\icons\Center-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ZoomInButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\Zoom-in-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ZoomOutButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\Zoom-out-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ScatterCenterButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\Revert-center-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<PaintingAreaLabel>:
    bcolor: 0.9, 0.9, 0.9, 1
    canvas.before:
        Color:
            rgba: self.bcolor
        Rectangle:
            pos: self.x , self.y
            size: self.width, self.height

<PaletteInfoLabel>:
    height: 200

<PaletteLabel>:
    height: 160
    width: 640


<PaletteColorButton>:
    size:(20,20)
    canvas.after:
        Color:
            rgba: self.color
        Rectangle:
            pos: self.x + 1 , self.y + 1
            size: self.width - 2, self.height - 2


<ColorPickerPopup>:
    title: 'Color Select'
    size_hint: None, None
    size: 400,400
    auto_dismiss: False
    ColorPicker:
        on_color:root.color = self.color
        Button:
            text: 'Select'
            pos_hint: {'center_x': .76, 'y': .03}
            size_hint: None, None
            size: 100, 50
            on_press: root.dismiss()


<CurrentColorLabel>:
    size: (80, 80)
    canvas.after:
        Color:
            rgba: self.color
        Rectangle:
            pos: self.x + 3 , self.y + 3
            size: self.width - 6, self.height - 6

<SequenceFrameInfoLabel>:
    width: 200

<SequenceLabel>:
    width: 200
    canvas:
        Color:
            rgba: 0.4, 0.4, 0.4, 1
        Rectangle:
            size: (194, self.height)
            pos: (self.x + 3, self.y)

<SequenceFrameButtonsLabel>:
    width: 200

<FrameLabel>:
    width: 200
    canvas:
        Color:
            rgba: 0.6, 0.6, 0.6, 1
        Rectangle:
            size: (194, self.height - 3)
            pos: (self.x + 3, self.y + 3)

<MainLabel>:
    PaintingAreaLabel:
        pos: 38, root.top - 38 - self.height
        width: root.width - root.ids.toolbox.width - root.ids.sequenceframeinfolabel.width
        height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfolabel.height

        ImageScatter:
            id: imagescatter
            size: self.parent.size
            pos: self.parent.pos
            scale_max: 8
            scale_min: 1

            ImageLabel:
                size: 32, 32
                pos: (self.parent.width - self.width)/2, (self.parent.height - self.height)/2
                canvas:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos

    MainToolbarLabel:
        id: maintoolbar
        width: root.width
        pos: root.x, root.top - self.height

        NewFileButton:
            pos: root.x +3 , root.top - self.height -3
        OpenFileButton:
            pos: root.x + self.width + 3, root.top - self.height -3
        SaveFileButton:
            pos: root.x + self.width * 2 + 3, root.top - self.height - 3
        UndoButton:
            pos: root.x + self.width * 3 + 3, root.top - self.height - 3
        RedoButton:
            pos: root.x + self.width * 4 + 3, root.top - self.height - 3

    ToolBoxLabel:
        id: toolbox
        pos: root.x, root.top - self.height - 35
        height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfolabel.height + 6

        PencilButton:
            pos: self.parent.x +3 , self.parent.top - self.height -3
        EraserButton:
            pos: self.parent.x +3 , self.parent.top - 2 * self.height -3
        BrushButton:
            pos: self.parent.x +3 , self.parent.top - 3 * self.height -3
        ColorPickerButton:
            pos: self.parent.x +3 , self.parent.top - 4 * self.height -3
        FloodFillButton:
            pos: self.parent.x +3 , self.parent.top - 5 * self.height -3
        ImageCenterButton:
            pos: self.parent.x +3 , self.parent.top - 6 * self.height -3
        ZoomInButton:
            pos: self.parent.x +3 , self.parent.top - 7 * self.height -3
        ZoomOutButton:
            pos: self.parent.x +3 , self.parent.top - 8 * self.height -3
        ScatterCenterButton:
            pos: self.parent.x +3 , self.parent.top - 9 * self.height -3


    PaletteInfoLabel:
        id: paletteinfolabel
        width: root.width
        pos: 0, 0

        PaletteLabel:
            id: palettelabel
            pos: (self.parent.x + 160, self.parent.y + 20)

            GridLayout:
                id: palettelayout
                cols: 32
                rows: 8

                pos: self.parent.x , self.parent.y
                size: self.parent.width, self.parent.height

        CurrentColorLabel:
            id: right_mouse_color
            pos: self.parent.x + 60 , self.parent.y + 40
            color: 1,1,1,1

        CurrentColorLabel:
            id: left_mouse_color
            pos: self.parent.x + 20 , self.parent.y + 80
            color: 0,0,0,1

        SequenceFrameInfoLabel:
            id: sequenceframeinfolabel
            height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfolabel.height + 6
            pos: root.width - self.width, root.ids.paletteinfolabel.height - 3

            SequenceFrameTabbedPanel:
                size: self.parent.size
                pos: self.parent.pos

                do_default_tab: False

                TabbedPanelItem:
                    text: 'Sequences'

                    BoxLayout:
                        size_hint_y: 1
                        size_hint_x: 1
                        orientation: 'vertical'

                        SequenceLabel:
                            id: sequencelabel
                            size_hint_y: 1

                        SequenceFrameButtonsLabel:
                            id: sequenceframebuttonslabel
                            height: 38
                            size_hint: (None, None)

                        FrameLabel:
                            size_hint_y: 1



                TabbedPanelItem:
                    text: 'All frames'
