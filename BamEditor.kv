# File name: BamEditor.py
<ToolBarLabel>
    bcolor: 103/255, 97/255, 97/255, 1
    canvas.before:
        Color:
            rgba: 73/255, 67/255, 67/255, 1
        Rectangle:
            pos: self.x , self.y
            size: self.width, self.height
        Color:
            rgba: self.bcolor
        Rectangle:
            pos: self.x + 3, self.y +3
            size: self.width-6, self.height-6



<MainToolbarLabel@ToolBarLabel>:
    height: 38


<NewFileButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\new-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<OpenFileButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\open-file-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<SaveFileButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\save-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<UndoButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\undo-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<RedoButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\redo-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ToolBoxLabel@ToolBarLabel>:
    width: 38

<MoveImageButton>:
    group: 'toolbox_tool'

    size: 32, 32
    Image:
        source: r'.\static\icons\Hand-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<PencilButton>:
    group: 'toolbox_tool'

    size: 32, 32
    Image:
        source: r'.\static\icons\Pencil-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<EraserButton>:
    group: 'toolbox_tool'


    size: 32, 32
    Image:
        source: r'.\static\icons\Eraser-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<BrushButton>:
    group: 'toolbox_tool'


    size: 32, 32
    Image:
        source: r'E:\kivy_projects\first_kivy_project\static\icons\Brush-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ColorPickerButton>:
    group: 'toolbox_tool'


    size: 32, 32
    Image:
        source: r'.\static\icons\Dropper-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<FloodFillButton>:
    group: 'toolbox_tool'

    size: 32, 32
    Image:
        source: r'.\static\icons\Fill-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ImageCenterButton>:
    group: 'toolbox_tool'

    size: 32, 32
    Image:
        source: r'.\static\icons\Center-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ZoomInButton>:
    size: 32, 32
    on_press: self.zoom_in(app.root)
    Image:
        source: r'.\static\icons\Zoom-in-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ZoomOutButton>:
    size: 32, 32
    on_press: self.zoom_out(app.root)
    Image:
        source: r'.\static\icons\Zoom-out-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<ScatterCenterButton>:
    size: 32, 32
    on_press: self.center_scatter(app.root)
    Image:
        source: r'.\static\icons\Revert-center-icon.png'
        pos: root.x, root.top - self.height
        size: self.parent.size

<PaintingAreaLabel>:
    bcolor: 0.9, 0.9, 0.9, 1
    canvas.before:
        Color:
            rgba: self.bcolor
        Rectangle:
            pos: self.x , self.y
            size: self.width, self.height

<PaletteInfoToolInfoLabel>:
    height: 200

<PaletteLabel>:
    height: 160
    width: 640


<PaletteColorButton>:
    size:(20,20)
    on_touch_down: self.touch_down_actions(args[1], app.root)
    canvas.after:
        Color:
            rgba: self.color
        Rectangle:
            pos: self.x + 1 , self.y + 1
            size: self.width - 2, self.height - 2


<ColorPickerPopup>:
    title: 'Color Select'
    size_hint: None, None
    size: 400,400
    auto_dismiss: False
    on_dismiss: self.dismiss_popup(app.root)
    ColorPicker:
        on_color:root.color = self.color
        Button:
            text: 'Select'
            pos_hint: {'center_x': .76, 'y': .03}
            size_hint: None, None
            size: 100, 50
            on_press: root.dismiss()


<CurrentColorLabel>:
    size: (80, 80)
    canvas.after:
        Color:
            rgba: self.color
        Rectangle:
            pos: self.x + 3 , self.y + 3
            size: self.width - 6, self.height - 6

<ToolInfoLabel>:
    height: 120
    width: 320

<SequenceFrameInfoLabel>:
    width: 200

<ScrollableLabel>:
    canvas:
        Color:
            rgba: 0.7, 0.7, 0.7, 1
        Rectangle:
            size: (194, self.height - 3)
            pos: (self.x + 3, self.y + 3)

<SequenceLabel>:
    width: 168

<SequenceUpButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\arrow-up-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<SequenceDownButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\arrow-down-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<SequenceAddButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\add-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<SequenceDeleteButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\delete-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<SequenceFrameButtonsLabel>:
    width: 200

<SequenceAnimationPlayButton>:
    group: 'animation_buttons'

    size: 32, 32
    Image:
        source: r'.\static\icons\Play-Pressed-icon.png'
        pos: (self.parent.x - self.parent.width - 3, self.parent.y - self.parent.height - 3)
        size: self.size

<SequenceAnimationStopButton>:
    group: 'animation_buttons'

    size: 32, 32
    Image:
        source: r'.\static\icons\Button-Pause-icon.png'
        pos: (self.parent.x - self.parent.width - 3, self.parent.y - self.parent.height - 3)
        size: self.size

<PreviewAnimationButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\preview-icon.png'
        pos: (self.parent.x - self.parent.width - 3, self.parent.y - self.parent.height - 3)
        size: self.size

<FrameLabel>:
    width: 168

<FrameUpButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\arrow-up-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<FrameDownButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\arrow-down-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<SequenceFrameAddButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\add-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<SequenceFrameDeleteButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\delete-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<AllFramesLabel>:
    width: 168

<FrameAddButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\add-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<FrameDeleteButton>:
    size: 32, 32
    Image:
        source: r'.\static\icons\delete-icon.png'
        pos: (self.parent.x - self.parent.width - 2, self.parent.y - self.parent.height - 2)
        size: self.size

<MainLabel>:
    PaintingAreaLabel:
        pos: 38, root.top - 38 - self.height
        width: root.width - root.ids.toolbox.width - root.ids.sequenceframeinfolabel.width
        height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfotoolinfolabel.height

        ImageScatter:
            id: imagescatter
            size: self.parent.size
            pos: self.parent.pos
            scale_max: 8
            scale_min: 1

            ImageLabel:
                size: 32, 32
                pos: (self.parent.width - self.width)/2, (self.parent.height - self.height)/2
                canvas:
                    Color:
                        rgba: 1, 1, 1, 1
                    Rectangle:
                        size: self.size
                        pos: self.pos

    MainToolbarLabel:
        id: maintoolbar
        width: root.width
        pos: root.x, root.top - self.height

        NewFileButton:
            pos: root.x +3 , root.top - self.height -3
        OpenFileButton:
            pos: root.x + self.width + 3, root.top - self.height -3
        SaveFileButton:
            pos: root.x + self.width * 2 + 3, root.top - self.height - 3
        UndoButton:
            pos: root.x + self.width * 3 + 3, root.top - self.height - 3
        RedoButton:
            pos: root.x + self.width * 4 + 3, root.top - self.height - 3

    ToolBoxLabel:
        id: toolbox
        pos: root.x, root.top - self.height - 35
        height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfotoolinfolabel.height + 6
        MoveImageButton:
            pos: self.parent.x +3 , self.parent.top - self.height -3
            state: 'down'
        PencilButton:
            pos: self.parent.x +3 , self.parent.top - 2 * self.height -3
        EraserButton:
            pos: self.parent.x +3 , self.parent.top - 3 * self.height -3
        BrushButton:
            pos: self.parent.x +3 , self.parent.top - 4 * self.height -3
        ColorPickerButton:
            pos: self.parent.x +3 , self.parent.top - 5 * self.height -3
        FloodFillButton:
            pos: self.parent.x +3 , self.parent.top - 6 * self.height -3
        ImageCenterButton:
            pos: self.parent.x +3 , self.parent.top - 7 * self.height -3
        ZoomInButton:
            pos: self.parent.x +3 , self.parent.top - 8 * self.height -3
        ZoomOutButton:
            pos: self.parent.x +3 , self.parent.top - 9 * self.height -3
        ScatterCenterButton:
            pos: self.parent.x +3 , self.parent.top - 10 * self.height -3


    PaletteInfoToolInfoLabel:
        id: paletteinfotoolinfolabel
        width: root.width
        pos: 0, 0

        PaletteLabel:
            id: palettelabel
            pos: (self.parent.x + 160, self.parent.y + 20)

            GridLayout:
                id: palettelayout
                cols: 32
                rows: 8

                pos: self.parent.x , self.parent.y
                size: self.parent.width, self.parent.height

        CurrentColorLabel:
            id: right_mouse_color
            pos: self.parent.x + 60 , self.parent.y + 40
            color: 1,1,1,1

        CurrentColorLabel:
            id: left_mouse_color
            pos: self.parent.x + 20 , self.parent.y + 80
            color: 0,0,0,1

        ToolInfoLabel:
            id: toolinfolabel
            pos: (self.parent.x + 880, self.parent.y + 40)


    SequenceFrameInfoLabel:
        id: sequenceframeinfolabel
        height: root.height - root.ids.maintoolbar.height - root.ids.paletteinfotoolinfolabel.height + 6
        pos: root.width - self.width, root.ids.paletteinfotoolinfolabel.height - 3

        SequenceFrameTabbedPanel:
            size: self.parent.size
            pos: self.parent.pos

            do_default_tab: False

            TabbedPanelItem:
                text: 'Sequences'

                BoxLayout:
                    size_hint_y: 1
                    size_hint_x: 1
                    orientation: 'vertical'

                    BoxLayout:
                        pos: self.parent.pos
                        canvas:
                            Color:
                                rgba: 103/255, 97/255, 97/255, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        SequenceLabel:
                            size_hint_x: None
                            size_hint_y: 1

                            ScrollView:
                                size: self.parent.size
                                pos: self.parent.pos

                                GridLayout:
                                    id: framelayout
                                    cols: 1
                                    size_hint_y: None
                                    height: self.minimum_height

                        SequenceOrderChangeLabel:
                            BoxLayout:
                                orientation: 'vertical'

                                size: self.parent.size
                                pos: self.parent.pos

                                SequenceUpButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceDownButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceAddButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceDeleteButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                Label:

                    SequenceFrameButtonsLabel:
                        id: sequenceframebuttonslabel
                        height: 35
                        size_hint: (None, None)

                        GridLayout:
                            padding:(2, 2)
                            pos: self.parent.pos
                            size: self.parent.size
                            cols: 2

                            BoxLayout:
                                size: self.parent.size
                                pos: self.parent.pos
                                orientation: 'horizontal'

                                SequenceAnimationPlayButton:
                                    size_hint: (None, None)

                                SequenceAnimationStopButton:
                                    size_hint: (None, None)
                                    state: 'down'

                            StackLayout:
                                pos: self.parent.pos
                                orientation: 'rl-bt'
                                PreviewAnimationButton:
                                    size_hint: (None, None)

                    BoxLayout:
                        pos: self.parent.pos
                        canvas:
                            Color:
                                rgba: 103/255, 97/255, 97/255, 1
                            Rectangle:
                                size: self.size
                                pos: self.pos

                        FrameLabel:
                            size_hint_x: None
                            size_hint_y: 1

                            ScrollView:
                                size: self.parent.size
                                pos: self.parent.pos

                                GridLayout:
                                    id: framelayout
                                    cols: 1
                                    size_hint_y: None
                                    height: self.minimum_height

                        FrameOrderChangeLabel:
                            BoxLayout:
                                orientation: 'vertical'

                                size: self.parent.size
                                pos: self.parent.pos

                                FrameUpButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                FrameDownButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceFrameAddButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                SequenceFrameDeleteButton:
                                    pos: self.parent.pos
                                    size_hint_y: None

                                Label:


            TabbedPanelItem:
                text: 'All frames'

                BoxLayout:

                    canvas:
                        Color:
                            rgba: 103/255, 97/255, 97/255, 1
                        Rectangle:
                            size: self.size
                            pos: self.pos

                    AllFramesLabel:
                        size_hint_y: 1


                        ScrollView:
                            size: self.parent.size
                            pos: self.parent.pos

                            GridLayout:
                                id: framelayout
                                cols: 1
                                size_hint_y: None
                                height: self.minimum_height
                    ToolBoxLabel:
                        width: 32
                        size_hint_x: None
                        size_hint_y: 1
                        pos: self.parent.pos

                        BoxLayout:
                            orientation: 'vertical'

                            size: self.parent.size
                            pos: self.parent.pos

                            FrameAddButton:
                                pos: self.parent.pos
                                size_hint_y: None

                            FrameDeleteButton:
                                pos: self.parent.pos
                                size_hint_y: None

                            Label: